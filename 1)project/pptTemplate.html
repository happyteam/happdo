<!doctype html>
<html lang="zh">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<title>pptTemplate1</title>
	<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
	<script src="script/bootstrap.min.js"></script>
	<script type="text/javascript" src="script/jquery.flexslider-min.js"></script>
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/flexslider.css" type="text/css"/>
	<link rel="stylesheet" href="css/css_reset.css">
	<link rel="stylesheet" href="css/pptTemplate.css">
	<script type="text/javascript">
		function heightReset(){

			 var screenHeight = screen.height;
			 // alert(screenHeight);
			 var area1Height = screenHeight-$("#header_bg").height() - $(".main_container").css('margin-top') - $(".main_container").css('margin-bottom');
			 // alert($(window).height());
			 // alert($(document).height());
			 // alert(area1Height);
			 // alert($("#header_bg").height());
			 // alert($(".main_container").css('margin-top'));
			 // alert($(".main_container").css('margin-bottom'));
			 $(".context").css('min-height',screenHeight);
			 $(".main_container").css('height',area1Height);

		}

		$(document).ready( function(){
            //alert($(document).height());
            var area2_li3 = $(".area2_ul .span3").css('width');
      		area2_li3 = area2_li3.substring(0,area2_li3.indexOf('px'))*4;
      		$("#area2_li3").val(area2_li3);
           	heightReset();
      	});


      	$(window).resize(function(){
      		heightReset();
      		var area2_ul = parseInt($("#area2_inner_container ul").css('width'));
      		//area2_ul = area2_ul.substring(0,area2_ul.indexOf('px'));
      		var area2_li3=parseInt($("#area2_li3").val());

      		console.log("area2_ul:"+area2_ul+" area2_li3:"+area2_li3);
      		console.log("area2_ul<area2_li3:"+(area2_ul*1)<=(area2_li3*1));

      		if(area2_ul<area2_li3){
      			$(".area2_ul .span3").css('width','47%');
      			console.log('123');
      		}
      		else
      			$(".area2_ul .span3").css('width','23%');

      	})

		//slideshow
      	$(window).load(function() {
		  $('.flexslider').flexslider({
		    animation: "slide"
		  });
		});

		// function shiftColor(){
		// 	alert("123");
		// 	alert($(window).height());
		// 	window.scrollTo(0,400);
		// 	$(".context").scrollTop($(document).height());
		// }
		var number = 1;
		var LastShiftBox = 3;
		function shift(dirction){
			console.log($(".show:first()").css("margin-left"));
			if(dirction == 'Right'){
				//console.log('right');
				if(!$(".show:first").hasClass('display')){
					$(".show:first").animate({"margin-left": "+=33%"}, "slow");
					//remove first dispaly box "dispaly" class
					$(".show:nth-child("+LastShiftBox+")").removeClass('dispaly');

					number--;
					LastShiftBox--;

					console.log("first dispaly in the box:"+number +" LastShiftBox:"+LastShiftBox);
					$(".show:nth-child("+number+")").addClass('display');


					//請加入考慮3以下
					if($(".show:first").hasClass('display')){
						console.log("1");
						$("#arrow_right img").css('visibility','hidden');
					}else if(!$(".show:last").hasClass('display')){
						console.log("2");
						$("#arrow_left img").css('visibility','visible');
					}
				}
				//console.log('right2');
			}else if(dirction == 'Left'){
				//console.log('left');
				if(!$(".show:last").hasClass('display')){


					$(".show:first").animate({"margin-left": "-=33%"}, "slow");
					
					console.log("Left：first dispaly in the box:"+number +" LastShiftBox:"+LastShiftBox);


					$(".show:nth-child("+number+")").removeClass('display');
					number++;
					LastShiftBox++;
					$(".show:nth-child("+LastShiftBox+")").addClass('display');

					if($(".show:last").hasClass('display')){
						console.log("3");
						$("#arrow_left img").css('visibility','hidden');
					}else if(!$(".show:first").hasClass('display')){
						console.log("4");
						$("#arrow_right img").css('visibility','visible');
					}
				}
				//console.log('left2');
			}
		}


	</script>
</head>
<body>
	<input type="hidden" id="area2_li3" name="area2_li3"/>
	<header>
		<ul>
			<li class="header_link4 header_word_color"><a href="#area1">Service Introduce</a></li>
			<li class="header_link4 header_word_color"><a href="#area2">link2</a></li>
			<li class="header_link4 header_word_color"><a href="#area3">作品</a></li>
			<li class="header_link4 header_word_color"><a href="#area4">Happy Team</a></li>
		</ul>
		<span class="clearLeft"/>		
	</header>
	<div class="context context_shadow" id="context_color_area1">
		<a name="area1"></a>
		<div id="header_bg"></div>
		<div class="row">
			<div class="main_container">
				<div class="flexslider">
				  	<ul class="slides">
				  		<!--li img use iterator-->
					    <li>
					      	<img src="images/kitchen_adventurer_caramel.jpg" />
					    </li>
					    <li>
					      	<img src="images/kitchen_adventurer_cheesecake_brownie.jpg" />
					    </li>
					    <li>
					      	<img src="images/kitchen_adventurer_donut.jpg" />
					    </li>
					    <li>
					     	<img src="images/kitchen_adventurer_lemon.jpg" />
					    </li>
					    <!--end interator-->
				  	</ul>

				</div>
				<div class="span4">
					<h2>Service Introduce</h2>
					<p>This is area 1, service introduce, for test, for testThis is area 1, service introduce, for test, for testThis is area 1, service introduce, for test, for testThis is area 1, service introduce, for test, for testThis is area 1, service introduce, for test, for testThis is area 1, service introduce, for test, for testThis is area 1, service introduce, for test, for testThis is area 1, service introduce, for test, for testThis is area 1, service introduce, for test, for testThis is area 1, service introduce, for test, for testThis is area 1, service introduce, for test, for testThis is area 1, service introduce, for test, for test</p>
				</div>
				<span class="clearLeft"></span>
			</div>
		</div>
	</div>
	<a name="area2"></a>
	<div class="context context_shadow" id="context_color_area2">
		<div id="area2_inner_container">
			<h2>This is area two...</h2>
			<ul class="area2_ul row" id="orderLeft">
				<li class="span3">
					<img src="images/1.png">
					<h3>Descrtion one</h3>
					<p>
						this is area2, part 1, area2 part1,this is area2, part 1, area2 part1,this is area2, part 1, area2 part1,this is area2, part 1, area2 part1，this is area2, part 1, area2 part1this is area2, part 1, area2 part1this is area2, part 1, area2 part1
					</p>
				</li>
				<li class="span3">
					<img src="images/2.png">
					<h3>Descrtion two</h3>
					<p>
						this is area2, part 1, area2 part1,this is area2, part 1, area2 part1,this is area2, part 1, area2 part1,this is area2, part 1, area2 part1，this is area2, part 1, area2 part1this is area2, part 1, area2 part1this is area2, part 1, area2 part1
					</p>
				</li>
				<li class="span3">
					<img src="images/3.png">
					<h3>Descrtion three</h3>
					<p>
						this is area2, part 1, area2 part1,this is area2, part 1, area2 part1,this is area2, part 1, area2 part1,this is area2, part 1, area2 part1，this is area2, part 1, area2 part1this is area2, part 1, area2 part1this is area2, part 1, area2 part1
					</p>
				</li>
				<li class="span3">
					<img src="images/4.png">
					<h3>Descrtion four</h3>
					<p>
						this is area2, part 1, area2 part1,this is area2, part 1, area2 part1,this is area2, part 1, area2 part1,this is area2, part 1, area2 part1，this is area2, part 1, area2 part1this is area2, part 1, area2 part1this is area2, part 1, area2 part1
					</p>
				</li>
			</ul>
		</div>
	</div>
	<a name="area3"></a>
	<div class="context context_shadow" id="context_color_area3">
		<div class="area_block"></div>
		<div id="area3_inner_container">
			<h2>This is area three...</h2>
			<div class="area3_arrow" id="arrow_left"><img src="images/left_arrow.png" alt="<<<" onclick="shift('Left')"></div>
			<div id="area3_content">
				<div class="show display">123</div>
				<div class="show display">456</div>
				<div class="show display">789</div>
				<div class="show">abc</div>
				<div class="show">wsx</div>
				<div class="show">gjf</div>
			</div>
			<div class="area3_arrow" id="arrow_right" ><img src="images/right_arrow.png" alt=">>>" onclick="shift('Right')"></div>
			<div class="clearLeft"></div>
		</div>
	</div>
	<div class="context context_shadow" id="context_color_area4">
		<a name="area4"></a>
		context
	</div>
	<footer class="dborder color_black">
		<p>No Limit Company</p>
	</footer>
</body>
</html>